# TJCTF Promo Website
-------------------
The official home for the rewrite of the promotional site for [TJCTF](http://tjctf.org). Site is written with [Jekyll](http://jekyllrb.com) and the [picoCTF platform](http://picoctf.com). The platform runs the `/api` endpoint and everything else is static generated by Jekyll. An nginx conf has yet to be written to properly serve the site.

## Installation
--------------
First, make sure that you have all the ruby gems (you need Ruby and Bundler to do this)

    bundle install

Server side installation coming soon...

## Configuration
---------------
The static site runs in the `ctfsite` directory. This is the jekyll base directory. Jekyll configuration will be in `ctfsite/_config.yml`.

## Operation
-----------
You can use the static site without the API using Jekyll built-in tools

    cd ctfsite
    jekyll serve --watch --destination ../tmp

## Adding Content
---------------
Refer to the Jekyll documentation for more information. Here is a brief overview.

### Pages
---
Anything in the `ctfsite` directory will be copied over as static content. If any files contain the YAML FrontMatter

    ---
    # Yaml document
    ---

then those files will be processed by Jekyll and not just copied. Any named values in the front matter will be available to the [Liquid](http://liquidmarkup.org/) templating language under the `page` namespace. All files get templated before getting translated (I think).

These documents can be markdown, textile, or plain (HTML).

Liquid includes go in the `_includes` directory and layouts go in the `_layouts` directory. 

Example page.md:

    ---
    title: My Great Page
    layout: default
    post_scripts: [] # Include urls to local '/url/to/script.js' or exterior '//rawgit.com/script.js' scripts
    stylesheets: [] # Include urls to local or exterior css stylesheets
    ---

    # Markdown

    Is getting rendered on this page named {{ page.title }}

### Styles
---

Styles go in the `css` directory. `css/main.scss` is included on every page.

Any sass files with yaml front matter are automatically compiled into css. Sass partials with the `@import` directive should go in the `_sass` directory.

Try to keep styles modularized by making an `@import` with a sass partial in `_sass`. 

### Scripts
---

Coffeescript is supported out of the box if you include yaml front matter. All scripts should go in the `js` directory. To use the script, just add the url to the `post_scripts` list in the front matter.
